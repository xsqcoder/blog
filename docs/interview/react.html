<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DoubleX Blog | DoubleX Blog</title>
    <meta name="description" content="ä¸€åå‰ç«¯äºŒäº”ä»”çš„çŸ¥è¯†å­˜å‚¨æ ˆ">
    <link rel="preload stylesheet" href="/blog/assets/style.a36173ed.css" as="style">
    <script type="module" src="/blog/assets/app.b0ac6a11.js"></script>
    <link rel="preload" href="/blog/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/blog/assets/chunks/framework.45bffcbf.js">
  <link rel="modulepreload" href="/blog/assets/chunks/theme.fc0cee87.js">
  <link rel="modulepreload" href="/blog/assets/chunks/ON.0c406a17.js">
  <link rel="modulepreload" href="/blog/assets/docs_interview_react.md.60ae4e99.lean.js">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-0dee42d0><!--[--><!--]--><!--[--><span tabindex="-1" data-v-cc702eca></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-cc702eca> Skip to content </a><!--]--><!----><header class="VPNav" data-v-0dee42d0 data-v-81757f27><div class="VPNavBar has-sidebar" data-v-81757f27 data-v-66c54316><div class="container" data-v-66c54316><div class="title" data-v-66c54316><div class="VPNavBarTitle has-sidebar" data-v-66c54316 data-v-e1e9b26b><a class="title" href="/blog/" data-v-e1e9b26b><!--[--><!--[--><!--[--><!--[--><div class="nav-logo"></div><!--]--><!--]--><!--]--><!--]--><!----><!--[-->DoubleX Blog<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-66c54316><div class="curtain" data-v-66c54316></div><div class="content-body" data-v-66c54316><!--[--><!--]--><div class="VPNavBarSearch search" data-v-66c54316 style="--07553beb:&#39;Meta&#39;;"><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢æ–‡æ¡£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-66c54316 data-v-cc56e7d6><span id="main-nav-aria-label" class="visually-hidden" data-v-cc56e7d6>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/docs/essay/index" tabindex="0" data-v-cc56e7d6 data-v-2244abe8 data-v-255bd59a><!--[-->ğŸ“ éšç¬”<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-cc56e7d6 data-v-4d5a9d06><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4d5a9d06><span class="text" data-v-4d5a9d06><!----> ğŸ”¥ ä¸“æ  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-4d5a9d06><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-4d5a9d06><div class="VPMenu" data-v-4d5a9d06 data-v-0f864f0b><div class="items" data-v-0f864f0b><!--[--><!--[--><div class="VPMenuLink" data-v-0f864f0b data-v-a2645532><a class="VPLink link" href="/blog/docs/special-column/vue/00-%E5%AF%BC%E8%AF%BB" data-v-a2645532 data-v-255bd59a><!--[-->ğŸ˜¤ æ‰‹æ’•æºç <!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-0f864f0b data-v-a2645532><a class="VPLink link" href="/blog/docs/special-column/vue/00-%E5%AF%BC%E8%AF%BB" data-v-a2645532 data-v-255bd59a><!--[-->ğŸ¤” å‰ç«¯ç®—æ³•<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-0f864f0b data-v-a2645532><a class="VPLink link" href="/blog/docs/special-column/vue/00-%E5%AF%BC%E8%AF%BB" data-v-a2645532 data-v-255bd59a><!--[-->ğŸ¤– å‰ç«¯è¿ç»´<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/blog/docs/interview/internet-questions" tabindex="0" data-v-cc56e7d6 data-v-2244abe8 data-v-255bd59a><!--[-->ğŸ‰ é¢è¯•<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-cc56e7d6 data-v-4d5a9d06><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4d5a9d06><span class="text" data-v-4d5a9d06><!----> ğŸ’ ç¼–ç¨‹èµ„æº <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-4d5a9d06><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-4d5a9d06><div class="VPMenu" data-v-4d5a9d06 data-v-0f864f0b><div class="items" data-v-0f864f0b><!--[--><!--[--><div class="VPMenuLink" data-v-0f864f0b data-v-a2645532><a class="VPLink link" href="/blog/docs/special-column/vue/00-%E5%AF%BC%E8%AF%BB" data-v-a2645532 data-v-255bd59a><!--[-->ğŸ”§ ç¼–ç¨‹å·¥å…·<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-0f864f0b data-v-a2645532><a class="VPLink link" href="/blog/docs/special-column/vue/00-%E5%AF%BC%E8%AF%BB" data-v-a2645532 data-v-255bd59a><!--[-->ğŸ”— èµ„æºå¯¼èˆª<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-66c54316 data-v-549c3414><label title="toggle dark mode" data-v-549c3414 data-v-c2df94bd><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-c2df94bd data-v-80b82c4a><span class="check" data-v-80b82c4a><span class="icon" data-v-80b82c4a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-c2df94bd><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-c2df94bd><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-66c54316 data-v-3cb8611f data-v-ca3ee07a><!--[--><a class="VPSocialLink" href="https://github.com/DoubleXm/blog" aria-label="github" target="_blank" rel="noopener" data-v-ca3ee07a data-v-08a0b4fa><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://juejin.cn/user/1169536104532829" aria-label target="_blank" rel="noopener" data-v-ca3ee07a data-v-08a0b4fa><?xml version="1.0" encoding="UTF-8" standalone="no"?>
        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">  <image id="image0" width="32" height="32" x="0" y="0"
            xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAIGNIUk0AAHomAACAhAAA+gAAAIDo
        AAB1MAAA6mAAADqYAAAXcJy6UTwAAAHIUExURQAAAB6A/x+A/x6B/x56/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/////3Hr+NgAAACWdFJOUwAAAAAABl1bBRCG9POEDyWr
        /KkkcfkLc+wEAk7Z2CGXYCphmDvIEYh7+K0mr3oIaujOQwFF0OdpDANoB883tnAJ9pSWcrc4Y94Y
        /hnyvDDj4l4yvfFa39pSPMdT21jD7nkgpKIfDe/CNh2f+qEKHp4cd8Q6xu11UODh108vuoOFuS4X
        9yOskxZs6dHSa0YosP0nEor1ib0wTV4AAAABYktHRJfmbhuvAAAAB3RJTUUH5wYUBxETRYbAuQAA
        AF50RVh0UmF3IHByb2ZpbGUgdHlwZSBpcHRjAAppcHRjCiAgICAgIDI4CjM4NDI0OTRkMDQwNDAw
        MDAwMDAwMDAwZjFjMDI2ZTAwMDM1MjQ2NDcxYzAyMDAwMDAyMDAwNDAwCmCaPZ4AAAHTSURBVDjL
        rVNpV1JRFH1bk55AISFPAVEQQXEgFTWQVDBDUsws5yErc8rU5tGZyjFNsvt7PfcBLizAtVqeD3fd
        u+9+5+6z3zmCcMkBioz3OYqrIjJ8nqtUqa9dT5cE0ORpGdPe0KVhAPl6RqHPT0uQCgoZKyyQUhAA
        gxECjKYis0neGM6TgOISC8kHrFa6gVhqK05mAGV2plY6YhjgKFcxe1kSA8YKJ8mv1HAMqKqmYpw1
        xuQUrpu1pL+u3g24Gxpp23TLhUR6j5dejcPNPp9MvU1UAQYPF9TS2uZHInGg/U4g8Rj8HXeDEDpD
        zFlyj/8kLo11dbGYXKDb5mShTqE8TGjPfbk4Sy938kGfXPDDR8TtVwriwCCBQ8NcCEbsjI3y+uAd
        Gyc4NCEKyGp5TNvJJx5kA0+fTT3n6acrZgicnYvVPf9igbGFl/P8Rlrk69IUIfrlV3GvIL2eJP6b
        4JW4k2/f0fH9B+nMKXg/mgn6JHcTRMVnOnz5es5JrKyS5vBaLnXVuprq2tj8+3dutUfIobxvuu/k
        V+TH9j89AdfOLmXe26el9sCVoqfg/rnH5GhscKfsOeDw6Bc9U32cvq2jv09Uf6IZZocGR5GTebQu
        GL3/iVNGTHdSXGp/KgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0yMFQwNzoxNzoxOSswMDow
        MHsX18oAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMjBUMDc6MTc6MTkrMDA6MDAKSm92AAAA
        KHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTA2LTIwVDA3OjE3OjE5KzAwOjAwXV9OqQAAAABJRU5E
        rkJggg==" />
        </svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-66c54316 data-v-365b3004 data-v-4d5a9d06><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-4d5a9d06><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-4d5a9d06><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-4d5a9d06><div class="VPMenu" data-v-4d5a9d06 data-v-0f864f0b><!----><!--[--><!--[--><!----><div class="group" data-v-365b3004><div class="item appearance" data-v-365b3004><p class="label" data-v-365b3004>Appearance</p><div class="appearance-action" data-v-365b3004><label title="toggle dark mode" data-v-365b3004 data-v-c2df94bd><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-c2df94bd data-v-80b82c4a><span class="check" data-v-80b82c4a><span class="icon" data-v-80b82c4a><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-c2df94bd><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-c2df94bd><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-365b3004><div class="item social-links" data-v-365b3004><div class="VPSocialLinks social-links-list" data-v-365b3004 data-v-ca3ee07a><!--[--><a class="VPSocialLink" href="https://github.com/DoubleXm/blog" aria-label="github" target="_blank" rel="noopener" data-v-ca3ee07a data-v-08a0b4fa><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink" href="https://juejin.cn/user/1169536104532829" aria-label target="_blank" rel="noopener" data-v-ca3ee07a data-v-08a0b4fa><?xml version="1.0" encoding="UTF-8" standalone="no"?>
        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">  <image id="image0" width="32" height="32" x="0" y="0"
            xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAIGNIUk0AAHomAACAhAAA+gAAAIDo
        AAB1MAAA6mAAADqYAAAXcJy6UTwAAAHIUExURQAAAB6A/x+A/x6B/x56/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A
        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/////3Hr+NgAAACWdFJOUwAAAAAABl1bBRCG9POEDyWr
        /KkkcfkLc+wEAk7Z2CGXYCphmDvIEYh7+K0mr3oIaujOQwFF0OdpDANoB883tnAJ9pSWcrc4Y94Y
        /hnyvDDj4l4yvfFa39pSPMdT21jD7nkgpKIfDe/CNh2f+qEKHp4cd8Q6xu11UODh108vuoOFuS4X
        9yOskxZs6dHSa0YosP0nEor1ib0wTV4AAAABYktHRJfmbhuvAAAAB3RJTUUH5wYUBxETRYbAuQAA
        AF50RVh0UmF3IHByb2ZpbGUgdHlwZSBpcHRjAAppcHRjCiAgICAgIDI4CjM4NDI0OTRkMDQwNDAw
        MDAwMDAwMDAwZjFjMDI2ZTAwMDM1MjQ2NDcxYzAyMDAwMDAyMDAwNDAwCmCaPZ4AAAHTSURBVDjL
        rVNpV1JRFH1bk55AISFPAVEQQXEgFTWQVDBDUsws5yErc8rU5tGZyjFNsvt7PfcBLizAtVqeD3fd
        u+9+5+6z3zmCcMkBioz3OYqrIjJ8nqtUqa9dT5cE0ORpGdPe0KVhAPl6RqHPT0uQCgoZKyyQUhAA
        gxECjKYis0neGM6TgOISC8kHrFa6gVhqK05mAGV2plY6YhjgKFcxe1kSA8YKJ8mv1HAMqKqmYpw1
        xuQUrpu1pL+u3g24Gxpp23TLhUR6j5dejcPNPp9MvU1UAQYPF9TS2uZHInGg/U4g8Rj8HXeDEDpD
        zFlyj/8kLo11dbGYXKDb5mShTqE8TGjPfbk4Sy938kGfXPDDR8TtVwriwCCBQ8NcCEbsjI3y+uAd
        Gyc4NCEKyGp5TNvJJx5kA0+fTT3n6acrZgicnYvVPf9igbGFl/P8Rlrk69IUIfrlV3GvIL2eJP6b
        4JW4k2/f0fH9B+nMKXg/mgn6JHcTRMVnOnz5es5JrKyS5vBaLnXVuprq2tj8+3dutUfIobxvuu/k
        V+TH9j89AdfOLmXe26el9sCVoqfg/rnH5GhscKfsOeDw6Bc9U32cvq2jv09Uf6IZZocGR5GTebQu
        GL3/iVNGTHdSXGp/KgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0yMFQwNzoxNzoxOSswMDow
        MHsX18oAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMjBUMDc6MTc6MTkrMDA6MDAKSm92AAAA
        KHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTA2LTIwVDA3OjE3OjE5KzAwOjAwXV9OqQAAAABJRU5E
        rkJggg==" />
        </svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-66c54316 data-v-6cc012f4><span class="container" data-v-6cc012f4><span class="top" data-v-6cc012f4></span><span class="middle" data-v-6cc012f4></span><span class="bottom" data-v-6cc012f4></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-0dee42d0 data-v-33666cb5><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-33666cb5><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-33666cb5><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-33666cb5>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-33666cb5 data-v-3db84b8a><button data-v-3db84b8a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-0dee42d0 data-v-cee99311><div class="curtain" data-v-cee99311></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-cee99311><span class="visually-hidden" id="sidebar-aria-label" data-v-cee99311> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-cee99311><section class="VPSidebarItem level-0 collapsible has-active" data-v-cee99311 data-v-b170db19><!----><div class="items" data-v-b170db19><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/internet-questions" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>è®¡ç®—æœºç½‘ç»œ</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/browser-questions" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>æµè§ˆå™¨</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/html-css" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>HTMLã€CSS</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/javascript" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>Javascript</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/typescript" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>TypeScript</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/mobile" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>ç§»åŠ¨ç«¯</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/vue2" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>Vue2</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/react" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>React</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/webpack" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>Webpack</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/vite" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>Vite</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b170db19 data-v-b170db19><div class="item" data-v-b170db19><div class="indicator" data-v-b170db19></div><a class="VPLink link link" href="/blog/docs/interview/node" data-v-b170db19 data-v-255bd59a><!--[--><p class="text" data-v-b170db19>Node</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-0dee42d0 data-v-31d857f1><div class="VPDoc has-sidebar has-aside" data-v-31d857f1 data-v-da8336e0><!--[--><!--]--><div class="container" data-v-da8336e0><div class="aside" data-v-da8336e0><div class="aside-curtain" data-v-da8336e0></div><div class="aside-container" data-v-da8336e0><div class="aside-content" data-v-da8336e0><div class="VPDocAside" data-v-da8336e0 data-v-538eb19d><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-538eb19d data-v-ddd4f102><div class="content" data-v-ddd4f102><div class="outline-marker" data-v-ddd4f102></div><div class="outline-title" data-v-ddd4f102>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ddd4f102><span class="visually-hidden" id="doc-outline-aria-label" data-v-ddd4f102> Table of Contents for current page </span><ul class="root" data-v-ddd4f102 data-v-7caee8a7><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-538eb19d></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-da8336e0><div class="content-container" data-v-da8336e0><!--[--><!--]--><!----><main class="main" data-v-da8336e0><div style="position:relative;" class="vp-doc _blog_docs_interview_react" data-v-da8336e0><div><h2 id="setstate-æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥" tabindex="-1">setState æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥ï¼Ÿ <a class="header-anchor" href="#setstate-æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥" aria-label="Permalink to &quot;setState æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥ï¼Ÿ&quot;">â€‹</a></h2><p>åœ¨ <code>React</code> å¾—åˆ°å…ƒç´ æ ‘ä¹‹åï¼Œ<code>React</code> ä¼šè‡ªåŠ¨è®¡ç®—å‡ºæ–°çš„æ ‘ä¸è€æ ‘çš„èŠ‚ ç‚¹å·®å¼‚ï¼Œç„¶åæ ¹æ®å·®å¼‚å¯¹ç•Œé¢è¿›è¡Œæœ€å°åŒ–é‡æ¸²æŸ“ã€‚åœ¨å·®å¼‚è®¡ç®—ç®—æ³•ä¸­ï¼Œ <code>React</code> èƒ½å¤Ÿç›¸å¯¹ç²¾ç¡®åœ°çŸ¥é“å“ªäº›ä½ç½®å‘ç”Ÿäº†æ”¹å˜ä»¥åŠåº”è¯¥å¦‚ä½•æ”¹å˜ï¼Œ è¿™å°±ä¿è¯äº†æŒ‰éœ€æ›´æ–°ï¼Œè€Œä¸æ˜¯å…¨éƒ¨é‡æ–°æ¸²æŸ“ã€‚ å¦‚æœåœ¨çŸ­æ—¶é—´å†…é¢‘ç¹ <code>setState</code>ã€‚<code>React</code> ä¼šå°† <code>state</code> çš„æ”¹å˜å‹å…¥æ ˆä¸­ï¼Œ åœ¨åˆé€‚çš„æ—¶æœºï¼Œæ‰¹é‡æ›´æ–° <code>state</code> å’Œè§†å›¾ï¼Œè¾¾åˆ°æé«˜æ€§èƒ½çš„æ•ˆæœ</p><p><code>setState</code> å¹¶ä¸æ˜¯å•çº¯åŒæ­¥/å¼‚æ­¥çš„ï¼Œå®ƒçš„è¡¨ç°ä¼šå› è°ƒç”¨åœºæ™¯çš„ä¸åŒè€Œ ä¸åŒã€‚åœ¨æºç ä¸­ï¼Œé€šè¿‡ <code>isBatchingUpdates</code> æ¥åˆ¤æ–­ <code>setState</code> æ˜¯å…ˆ å­˜è¿› <code>state</code> é˜Ÿåˆ—è¿˜æ˜¯ç›´æ¥æ›´æ–°ï¼Œå¦‚æœå€¼ä¸º <code>true</code> åˆ™æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œ ä¸º <code>false</code> åˆ™ç›´æ¥æ›´æ–°</p><p><strong>å¼‚æ­¥</strong>ï¼šåœ¨ <code>React</code> å¯ä»¥æ§åˆ¶çš„åœ°æ–¹ï¼Œå°±ä¸º <code>true</code>ï¼Œæ¯”å¦‚åœ¨ <code>React</code> ç”Ÿå‘½ å‘¨æœŸäº‹ä»¶å’Œåˆæˆäº‹ä»¶ä¸­ï¼Œéƒ½ä¼šèµ°åˆå¹¶æ“ä½œï¼Œå»¶è¿Ÿæ›´æ–°çš„ç­–ç•¥ã€‚</p><p><strong>åŒæ­¥</strong>ï¼šåœ¨ <code>React</code> æ— æ³•æ§åˆ¶çš„åœ°æ–¹ï¼Œæ¯”å¦‚åŸç”Ÿäº‹ä»¶ï¼Œå…·ä½“å°±æ˜¯åœ¨ <code>addEventListener</code> ã€<code>setTimeout</code>ã€<code>setInterval</code> ç­‰äº‹ä»¶ä¸­ï¼Œå°±åªèƒ½</p><h2 id="è°ƒç”¨-setstate-ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆ" tabindex="-1">è°ƒç”¨ setState ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#è°ƒç”¨-setstate-ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆ" aria-label="Permalink to &quot;è°ƒç”¨ setState ä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><ol><li>åœ¨ <code>setState</code> çš„æ—¶å€™ï¼ŒReact ä¼šä¸ºå½“å‰èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ª <code>updateQueue</code> çš„æ›´æ–°åˆ—é˜Ÿã€‚</li><li>ç„¶åä¼šè§¦å‘ <code>reconciliation</code> è¿‡ç¨‹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¼šä½¿ç”¨åä¸º <code>Fiber</code> çš„è°ƒåº¦ç®—æ³•ï¼Œå¼€å§‹ç”Ÿæˆæ–°çš„ <code>Fiber</code> æ ‘ï¼Œ <code>Fiber</code> ç®—æ³•çš„æœ€å¤§ç‰¹ç‚¹æ˜¯å¯ä»¥åšåˆ°å¼‚æ­¥å¯ä¸­æ–­çš„æ‰§è¡Œã€‚</li><li>ç„¶å React <code>Scheduler</code> ä¼šæ ¹æ®ä¼˜å…ˆçº§é«˜ä½ï¼Œå…ˆæ‰§è¡Œä¼˜å…ˆçº§é«˜çš„èŠ‚ç‚¹ï¼Œå…·ä½“æ˜¯æ‰§è¡Œ <code>doWork</code> æ–¹æ³•ã€‚</li><li>åœ¨ <code>doWork</code> æ–¹æ³•ä¸­ï¼Œ<code>React</code> ä¼šæ‰§è¡Œä¸€é <code>updateQueue</code> ä¸­çš„æ–¹æ³•ï¼Œä»¥è·å¾—æ–°çš„èŠ‚ç‚¹ã€‚ç„¶åå¯¹æ¯”æ–°æ—§èŠ‚ç‚¹ï¼Œä¸ºè€èŠ‚ç‚¹æ‰“ä¸Š æ›´æ–°ã€æ’å…¥ã€æ›¿æ¢ ç­‰ Tagã€‚</li><li>å½“å‰èŠ‚ç‚¹ <code>doWork</code> å®Œæˆåï¼Œä¼šæ‰§è¡Œ <code>performUnitOfWork</code> æ–¹æ³•è·å¾—æ–°èŠ‚ç‚¹ï¼Œç„¶åå†é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ã€‚</li><li>å½“æ‰€æœ‰èŠ‚ç‚¹éƒ½ <code>doWork</code> å®Œæˆåï¼Œä¼šè§¦å‘ <code>commitRoot</code> æ–¹æ³•ï¼Œ<code>React</code> è¿›å…¥ <code>commit</code> é˜¶æ®µã€‚</li><li>åœ¨ <code>commit</code> é˜¶æ®µä¸­ï¼Œ<code>React</code> ä¼šæ ¹æ®å‰é¢ä¸ºå„ä¸ªèŠ‚ç‚¹æ‰“çš„ Tagï¼Œä¸€æ¬¡æ€§æ›´æ–°æ•´ä¸ª <code>dom</code> å…ƒç´ ã€‚</li></ol><h2 id="å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶åŒºåˆ«æ˜¯å•¥" tabindex="-1">å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶åŒºåˆ«æ˜¯å•¥ï¼Ÿ <a class="header-anchor" href="#å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶åŒºåˆ«æ˜¯å•¥" aria-label="Permalink to &quot;å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶åŒºåˆ«æ˜¯å•¥ï¼Ÿ&quot;">â€‹</a></h2><ul><li>å—æ§ç»„ä»¶æ˜¯ React æ§åˆ¶ä¸­çš„ç»„ä»¶ï¼Œå¹¶ä¸”æ˜¯è¡¨å•æ•°æ®çœŸå®çš„å”¯ä¸€æ¥æºã€‚</li><li>éå—æ§ç»„ä»¶æ˜¯ç”± DOM å¤„ç†è¡¨å•æ•°æ®çš„åœ°æ–¹ï¼Œè€Œä¸æ˜¯åœ¨ React ç»„ä»¶ä¸­ã€‚</li></ul><p>å°½ç®¡éå—æ§ç»„ä»¶é€šå¸¸æ›´æ˜“äºå®ç°ï¼Œå› ä¸ºåªéœ€ä½¿ç”¨ refs å³å¯ä» DOM ä¸­è·å–å€¼ï¼Œä½†é€šå¸¸å»ºè®®ä¼˜å…ˆé€‰æ‹©å—æ§åˆ¶çš„ç»„ä»¶ï¼Œè€Œä¸æ˜¯éå—æ§åˆ¶çš„ç»„ä»¶ã€‚</p><p>è¿™æ ·åšçš„ä¸»è¦åŸå› æ˜¯å—æ§ç»„ä»¶æ”¯æŒå³æ—¶å­—æ®µéªŒè¯ï¼Œå…è®¸æœ‰æ¡ä»¶åœ°ç¦ç”¨/å¯ç”¨æŒ‰é’®ï¼Œå¼ºåˆ¶è¾“å…¥æ ¼å¼ã€‚</p><h2 id="èŠèŠ-react-16-4-çš„ç”Ÿå‘½å‘¨æœŸ" tabindex="-1">èŠèŠ react@16.4 + çš„ç”Ÿå‘½å‘¨æœŸ <a class="header-anchor" href="#èŠèŠ-react-16-4-çš„ç”Ÿå‘½å‘¨æœŸ" aria-label="Permalink to &quot;èŠèŠ react@16.4 + çš„ç”Ÿå‘½å‘¨æœŸ&quot;">â€‹</a></h2><p><img src="/blog/interview/browser/lifecycle.jpg" alt="lifecycle"></p><p><a href="https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/" target="_blank" rel="noreferrer">ç”Ÿå‘½å‘¨æœŸå›¾è°±</a></p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">æŒ‚è½½è¿‡ç¨‹ï¼š constructor -&gt; getDerivedStateFromProps -&gt; render -&gt; componentDidMount</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">æ›´æ–°è¿‡ç¨‹ï¼š getDerivedStateFromProps -&gt; shouldComponentUpdate -&gt; render -&gt; getSnapshotBeforeUpdate -&gt; componentDidUpdate</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">å¸è½½è¿‡ç¨‹ï¼š componentWillUnmount</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><details class="details custom-block"><summary><code>shouldComponentUpdate</code> è¿”å› <code>boolean</code> ç”¨äºæ§åˆ¶æ˜¯å¦æ¸²æŸ“ç»„ä»¶ã€‚æœ¬èº«ä¹Ÿä¼šæ¥æ”¶æœ€æ–°çš„ <code>props</code> å’Œ <code>state</code></summary><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Child</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">state</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zhangsan</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">shouldComponentUpdate</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">nextProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">nextState</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// é€šè¿‡åˆ¤æ–­ username æ˜¯å¦ç›¸åŒï¼Œè¿”å› boolean ç¡®è®¤æ˜¯å¦è®©ç»„ä»¶é‡æ–° render</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">username</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">nextState</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">username</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&lt;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;{this.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">username</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">setState</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">lisi</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">changeState</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/&gt;</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></details><details class="details custom-block"><summary><code>getSnapshotBeforeUpdate</code> å¿…é¡»è¿”å›ä¸€ä¸ªå€¼ä¸èƒ½ä¸º <code>undefined</code>ï¼Œè¿”å›å€¼ä¼šä½œä¸º <code>componentDidUpdate</code> çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œæ³¨æ„è¿™ä¸ªé’©å­å¿…é¡»å’Œ <code>componentDidUpdate</code> åŒæ—¶å‡ºç°</summary><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Child</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">state</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">6</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">7</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">8</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">9</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">insertList</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#F78C6C;">11</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">33</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">44</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">55</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">66</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">77</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">88</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">99</span><span style="color:#A6ACCD;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">wraperRef</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> React</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">createRef</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getSnapshotBeforeUpdate</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">nextProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">nextState</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è¿”å›æ›´æ–°ä¹‹å‰çš„é«˜åº¦</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">wraperRef</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">current</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scrollHeight</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">componentDidUpdate</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">prevProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">prevState</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">snapshot</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è·å–æ›´æ–°åçš„é«˜åº¦</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scrollHeight</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">wraperRef</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">current</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scrollHeight</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// è®¾ç½®æ»šåŠ¨æ¡çš„é«˜åº¦</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">wraperRef</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">current</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">scrollTop</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">scrollHeight</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">snapshot</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&lt;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#676E95;font-style:italic;">/* å‡è®¾éœ€è¦ç‚¹å‡»ä¹‹åéœ€è¦è®©æ»šåŠ¨æ¡è®°ä½æ›´æ–°å‰çš„ä½ç½®åˆ™å¯ä»¥ä½¿ç”¨ getSnapshotBeforeUpdate */</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">setState</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">list</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">...this.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">insertList</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...this.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">list] </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">insert</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">200px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">overflow</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">auto</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}} </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">={this.</span><span style="color:#A6ACCD;">wraperRef</span><span style="color:#89DDFF;">}&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{this.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">list</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;font-style:italic;">item</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#82AAFF;">return</span><span style="color:#A6ACCD;"> (</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">} </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">lineHeight</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">backgroundColor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> item </span><span style="color:#89DDFF;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">===</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">skyblue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hotpink</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}}&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">item</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">              </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            );</span></span>
<span class="line"><span style="color:#A6ACCD;">          )</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/&gt;</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div></details><details class="details custom-block"><summary><code>getDerivedStateFromProps</code> æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥æ”¶æ–°çš„ <code>props</code> å’Œ è€çš„ <code>state</code> å¹¶è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå¯¹è±¡ä¼šåˆå¹¶ç»„ä»¶çš„ <code>state</code></summary><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Child</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">state</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">username</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">zhangsan</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">getDerivedStateFromProps</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">nextProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">prevState</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      age</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">24</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&lt;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">setState</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">forceUpdate</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;{</span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state)</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/&gt;</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></details><h2 id="useeffect-fn-å’Œ-componentdidmount-æœ‰ä»€ä¹ˆå·®å¼‚" tabindex="-1">useEffect(fn, []) å’Œ componentDidMount æœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿ <a class="header-anchor" href="#useeffect-fn-å’Œ-componentdidmount-æœ‰ä»€ä¹ˆå·®å¼‚" aria-label="Permalink to &quot;useEffect(fn, []) å’Œ componentDidMount æœ‰ä»€ä¹ˆå·®å¼‚ï¼Ÿ&quot;">â€‹</a></h2><p><code>useEffect</code> ä¼šæ•è· <code>props</code> å’Œ <code>state</code>ã€‚æ‰€ä»¥å³ä¾¿åœ¨å›è°ƒå‡½æ•°é‡Œï¼Œä½ æ‹¿åˆ°çš„è¿˜æ˜¯åˆå§‹çš„ <code>props</code> å’Œ <code>state</code>ã€‚å¦‚æœæƒ³å¾—åˆ°â€œæœ€æ–°â€çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨ refã€‚</p><h2 id="hooks-ä¸ºä»€ä¹ˆä¸èƒ½æ”¾åœ¨æ¡ä»¶åˆ¤æ–­é‡Œ" tabindex="-1">hooks ä¸ºä»€ä¹ˆä¸èƒ½æ”¾åœ¨æ¡ä»¶åˆ¤æ–­é‡Œï¼Ÿ <a class="header-anchor" href="#hooks-ä¸ºä»€ä¹ˆä¸èƒ½æ”¾åœ¨æ¡ä»¶åˆ¤æ–­é‡Œ" aria-label="Permalink to &quot;hooks ä¸ºä»€ä¹ˆä¸èƒ½æ”¾åœ¨æ¡ä»¶åˆ¤æ–­é‡Œï¼Ÿ&quot;">â€‹</a></h2><p>ä»¥ <code>setState</code> ä¸ºä¾‹ï¼Œåœ¨ <code>react</code> å†…éƒ¨ï¼Œæ¯ä¸ªç»„ä»¶(Fiber)çš„ <code>hooks</code> éƒ½æ˜¯ä»¥é“¾è¡¨çš„å½¢å¼å­˜åœ¨ <code>memoizeState</code> å±æ€§ä¸­ï¼š</p><p><img src="/blog/interview/browser/hooksfor.jpeg" alt="hooksfor"></p><p><code>update</code> é˜¶æ®µï¼Œæ¯æ¬¡è°ƒç”¨ <code>setState</code>ï¼Œé“¾è¡¨å°±ä¼šæ‰§è¡Œ <code>next</code> å‘åç§»åŠ¨ä¸€æ­¥ã€‚å¦‚æœå°† <code>setState</code> å†™åœ¨æ¡ä»¶åˆ¤æ–­ä¸­ï¼Œå‡è®¾æ¡ä»¶åˆ¤æ–­ä¸æˆç«‹ï¼Œæ²¡æœ‰æ‰§è¡Œé‡Œé¢çš„ <code>setState</code> æ–¹æ³•ï¼Œä¼šå¯¼è‡´æ¥ä¸‹æ¥æ‰€æœ‰çš„ <code>setState</code> çš„å–å€¼å‡ºç°åç§»ï¼Œä»è€Œå¯¼è‡´å¼‚å¸¸å‘ç”Ÿã€‚</p><p>æ€»ç»“ï¼š å› ä¸º Hooks çš„è®¾è®¡æ˜¯åŸºäºé“¾è¡¨å®ç°ã€‚åœ¨è°ƒç”¨æ—¶æŒ‰é¡ºåºåŠ å…¥æ•°ç»„ä¸­ï¼Œå¦‚æœä½¿ç”¨å¾ªç¯ã€ æ¡ä»¶æˆ–åµŒå¥—å‡½æ•°å¾ˆæœ‰å¯èƒ½å¯¼è‡´æ•°ç»„å–å€¼é”™ä½ï¼Œæ‰§è¡Œé”™è¯¯çš„ Hookã€‚</p><h2 id="fiber-æ˜¯ä»€ä¹ˆ" tabindex="-1">fiber æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#fiber-æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;fiber æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p>React Fiber ç”¨ç±»ä¼¼ requestIdleCallback çš„æœºåˆ¶æ¥åšå¼‚æ­¥ diffã€‚ä½†æ˜¯ä¹‹å‰æ•°æ®ç»“æ„ä¸æ”¯æŒè¿™æ ·çš„å®ç°å¼‚æ­¥ diffï¼Œäºæ˜¯ React å®ç°äº†ä¸€ä¸ªç±»ä¼¼é“¾è¡¨çš„æ•°æ®ç»“æ„ï¼Œå°†åŸæ¥çš„ é€’å½’ diff å˜æˆäº†ç°åœ¨çš„ éå† diffï¼Œè¿™æ ·å°±èƒ½åšåˆ°å¼‚æ­¥å¯æ›´æ–°äº†</p><p><img src="/blog/interview/browser/filber.jpeg" alt="filber"></p><h2 id="èŠä¸€èŠ-diff-ç®—æ³•" tabindex="-1">èŠä¸€èŠ diff ç®—æ³• <a class="header-anchor" href="#èŠä¸€èŠ-diff-ç®—æ³•" aria-label="Permalink to &quot;èŠä¸€èŠ diff ç®—æ³•&quot;">â€‹</a></h2><p>ä¼ ç»Ÿ diff ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n^3)ï¼Œè¿™åœ¨å‰ç«¯ render ä¸­æ˜¯ä¸å¯æ¥å—çš„ã€‚ä¸ºäº†é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œreact çš„ diff ç®—æ³•åšäº†ä¸€äº›å¦¥åï¼Œæ”¾å¼ƒäº†æœ€ä¼˜è§£ï¼Œæœ€ç»ˆå°†æ—¶é—´å¤æ‚åº¦é™ä½åˆ°äº† O(n)ã€‚</p><ul><li>tree diffï¼šåªå¯¹æ¯”åŒä¸€å±‚çš„ dom èŠ‚ç‚¹ï¼Œå¿½ç•¥ dom èŠ‚ç‚¹çš„è·¨å±‚çº§ç§»åŠ¨ã€‚å¦‚æœ dom èŠ‚ç‚¹å‘ç”Ÿäº†è·¨å±‚çº§ç§»åŠ¨ï¼Œreact ä¼šåˆ é™¤æ—§çš„èŠ‚ç‚¹ï¼Œç”Ÿæˆæ–°çš„èŠ‚ç‚¹ï¼Œè€Œä¸ä¼šå¤ç”¨ã€‚</li></ul><p><img src="/blog/interview/browser/ON.jpeg" alt="ON"></p><ul><li>component diffï¼šå¦‚æœä¸æ˜¯åŒä¸€ç±»å‹çš„ç»„ä»¶ï¼Œä¼šåˆ é™¤æ—§çš„ç»„ä»¶ï¼Œåˆ›å»ºæ–°çš„ç»„ä»¶</li></ul><p><img src="/blog/interview/browser/componentDiff.jpeg" alt="componentDiff"></p><ul><li>element diffï¼šå¯¹äºåŒä¸€å±‚çº§çš„ä¸€ç»„å­èŠ‚ç‚¹ï¼Œéœ€è¦é€šè¿‡å”¯ä¸€ id è¿›è¡Œæ¥åŒºåˆ†ã€‚å¦‚æœæ²¡æœ‰ id æ¥è¿›è¡ŒåŒºåˆ†ï¼Œä¸€æ—¦æœ‰æ’å…¥åŠ¨ä½œï¼Œä¼šå¯¼è‡´æ’å…¥ä½ç½®ä¹‹åçš„åˆ—è¡¨å…¨éƒ¨é‡æ–°æ¸²æŸ“ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ¸²æŸ“åˆ—è¡¨æ—¶ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å”¯ä¸€çš„ keyã€‚</li></ul><h2 id="ä¸ºä»€ä¹ˆè™šæ‹Ÿ-dom-ä¼šæé«˜æ€§èƒ½" tabindex="-1">ä¸ºä»€ä¹ˆè™šæ‹Ÿ dom ä¼šæé«˜æ€§èƒ½? <a class="header-anchor" href="#ä¸ºä»€ä¹ˆè™šæ‹Ÿ-dom-ä¼šæé«˜æ€§èƒ½" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆè™šæ‹Ÿ dom ä¼šæé«˜æ€§èƒ½?&quot;">â€‹</a></h2><p>è™šæ‹Ÿ dom ç›¸å½“äºåœ¨ JS å’ŒçœŸå® dom ä¸­é—´åŠ äº†ä¸€ä¸ªç¼“å­˜ï¼Œåˆ©ç”¨ diff ç®—æ³•é¿å…äº†æ²¡æœ‰å¿…è¦çš„ dom æ“ä½œï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚</p><h2 id="é”™è¯¯è¾¹ç•Œæ˜¯ä»€ä¹ˆ-å®ƒæœ‰ä»€ä¹ˆç”¨" tabindex="-1">é”™è¯¯è¾¹ç•Œæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ <a class="header-anchor" href="#é”™è¯¯è¾¹ç•Œæ˜¯ä»€ä¹ˆ-å®ƒæœ‰ä»€ä¹ˆç”¨" aria-label="Permalink to &quot;é”™è¯¯è¾¹ç•Œæ˜¯ä»€ä¹ˆï¼Ÿå®ƒæœ‰ä»€ä¹ˆç”¨ï¼Ÿ&quot;">â€‹</a></h2><p>åœ¨ React ä¸­ï¼Œå¦‚æœä»»ä½•ä¸€ä¸ªç»„ä»¶å‘ç”Ÿé”™è¯¯ï¼Œå®ƒå°†ç ´åæ•´ä¸ªç»„ä»¶æ ‘ï¼Œå¯¼è‡´æ•´é¡µç™½å±ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨é”™è¯¯è¾¹ç•Œä¼˜é›…åœ°é™çº§å¤„ç†è¿™äº›é”™è¯¯ã€‚</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ErrorBoundary</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">IProps</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IState</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">props</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">IProps</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">super</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">props</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> hasError</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">getDerivedStateFromError</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// æ›´æ–° state ä½¿ä¸‹ä¸€æ¬¡æ¸²æŸ“èƒ½å¤Ÿæ˜¾ç¤ºé™çº§åçš„ UI</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> hasError</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">componentDidCatch</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">error</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">errorInfo</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¯ä»¥å°†é”™è¯¯æ—¥å¿—ä¸ŠæŠ¥ç»™æœåŠ¡å™¨</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ç»„ä»¶å¥”æºƒ Error</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">error</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ç»„ä»¶å¥”æºƒ Info</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">errorInfo</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">hasError</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">      </span><span style="color:#676E95;font-style:italic;">// ä½ å¯ä»¥è‡ªå®šä¹‰é™çº§åçš„ UI å¹¶æ¸²æŸ“</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">props</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">props</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">children</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="react-ç»„ä»¶é—´æœ‰é‚£äº›é€šä¿¡æ–¹å¼" tabindex="-1">React ç»„ä»¶é—´æœ‰é‚£äº›é€šä¿¡æ–¹å¼? <a class="header-anchor" href="#react-ç»„ä»¶é—´æœ‰é‚£äº›é€šä¿¡æ–¹å¼" aria-label="Permalink to &quot;React ç»„ä»¶é—´æœ‰é‚£äº›é€šä¿¡æ–¹å¼?&quot;">â€‹</a></h2><ul><li><p>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šä¿¡: é€šè¿‡ props ä¼ é€’</p></li><li><p>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šä¿¡: ä¸»åŠ¨è°ƒç”¨é€šè¿‡ props ä¼ è¿‡æ¥çš„æ–¹æ³•ï¼Œå¹¶å°†æƒ³è¦ä¼ é€’çš„ä¿¡æ¯ï¼Œä½œä¸ºå‚æ•°ï¼Œä¼ é€’åˆ°çˆ¶ç»„ä»¶çš„ä½œç”¨åŸŸä¸­</p></li><li><p>è·¨å±‚çº§é€šä¿¡: ä½¿ç”¨ react è‡ªå¸¦çš„ Context è¿›è¡Œé€šä¿¡ï¼ŒcreateContext åˆ›å»ºä¸Šä¸‹æ–‡ï¼Œ useContext ä½¿ç”¨ä¸Šä¸‹æ–‡ã€‚</p></li><li><p>ä½¿ç”¨ Redux æˆ–è€… Mobx ç­‰çŠ¶æ€ç®¡ç†åº“</p></li><li><p>ä½¿ç”¨è®¢é˜…å‘å¸ƒæ¨¡å¼</p></li></ul><h2 id="react-çˆ¶ç»„ä»¶å¦‚ä½•è°ƒç”¨å­ç»„ä»¶ä¸­çš„æ–¹æ³•" tabindex="-1">React çˆ¶ç»„ä»¶å¦‚ä½•è°ƒç”¨å­ç»„ä»¶ä¸­çš„æ–¹æ³•ï¼Ÿ <a class="header-anchor" href="#react-çˆ¶ç»„ä»¶å¦‚ä½•è°ƒç”¨å­ç»„ä»¶ä¸­çš„æ–¹æ³•" aria-label="Permalink to &quot;React çˆ¶ç»„ä»¶å¦‚ä½•è°ƒç”¨å­ç»„ä»¶ä¸­çš„æ–¹æ³•ï¼Ÿ&quot;">â€‹</a></h2><details class="details custom-block"><summary>å¦‚æœæ˜¯åœ¨æ–¹æ³•ç»„ä»¶ä¸­è°ƒç”¨å­ç»„ä»¶ï¼ˆ&gt;= react@16.8ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>useRef</code> å’Œ <code>useImperativeHandle</code></summary><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> forwardRef</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> useRef</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> useImperativeHandle </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> React</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Child </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">forwardRef</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">props</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">ref</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">useImperativeHandle</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">ref</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    getAlert</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">alert</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">getAlert from Child</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hi</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> Parent </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">childRef</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useRef</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Child</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">childRef</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> childRef</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">current</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getAlert</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">Click</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></details><details class="details custom-block"><summary>å¦‚æœæ˜¯åœ¨ç±»ç»„ä»¶ä¸­è°ƒç”¨å­ç»„ä»¶ï¼ˆ&gt;= react@16.4ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>createRef</code></summary><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Parent</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">constructor</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">props</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">super</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">props</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">child</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">React</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createRef</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">onClick</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">child</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">current</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">getAlert()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Child</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">={this.</span><span style="color:#A6ACCD;">child</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={this.</span><span style="color:#A6ACCD;">onClick</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">Click</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">    )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Child</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Component</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">getAlert</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">alert</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">getAlert from Child</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">render</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hello</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></details><h2 id="react-æœ‰å“ªäº›ä¼˜åŒ–æ€§èƒ½çš„æ‰‹æ®µ" tabindex="-1">React æœ‰å“ªäº›ä¼˜åŒ–æ€§èƒ½çš„æ‰‹æ®µ? <a class="header-anchor" href="#react-æœ‰å“ªäº›ä¼˜åŒ–æ€§èƒ½çš„æ‰‹æ®µ" aria-label="Permalink to &quot;React æœ‰å“ªäº›ä¼˜åŒ–æ€§èƒ½çš„æ‰‹æ®µ?&quot;">â€‹</a></h2><p><strong>ç±»ç»„ä»¶ä¸­çš„ä¼˜åŒ–æ‰‹æ®µ</strong></p><ul><li>ä½¿ç”¨çº¯ç»„ä»¶ PureComponent ä½œä¸ºåŸºç±»ã€‚</li><li>ä½¿ç”¨ React.memo é«˜é˜¶å‡½æ•°åŒ…è£…ç»„ä»¶ã€‚</li><li>ä½¿ç”¨ shouldComponentUpdate ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ¥è‡ªå®šä¹‰æ¸²æŸ“é€»è¾‘ã€‚</li></ul><p><strong>æ–¹æ³•ç»„ä»¶ä¸­çš„ä¼˜åŒ–æ‰‹æ®µ</strong></p><ul><li>ä½¿ç”¨ useMemoã€‚</li><li>ä½¿ç”¨ useCallBackã€‚</li></ul><p><strong>å…¶ä»–æ–¹å¼</strong></p><ul><li>åœ¨åˆ—è¡¨éœ€è¦é¢‘ç¹å˜åŠ¨æ—¶ï¼Œä½¿ç”¨å”¯ä¸€ id ä½œä¸º keyï¼Œè€Œä¸æ˜¯æ•°ç»„ä¸‹æ ‡ã€‚</li><li>å¿…è¦æ—¶é€šè¿‡æ”¹å˜ CSS æ ·å¼éšè—æ˜¾ç¤ºç»„ä»¶ï¼Œè€Œä¸æ˜¯é€šè¿‡æ¡ä»¶åˆ¤æ–­æ˜¾ç¤ºéšè—ç»„ä»¶ã€‚</li><li>ä½¿ç”¨ Suspense å’Œ lazy è¿›è¡Œæ‡’åŠ è½½</li></ul><h2 id="ä¸ºä»€ä¹ˆ-react-å…ƒç´ æœ‰ä¸€ä¸ª-typeof-å±æ€§" tabindex="-1">ä¸ºä»€ä¹ˆ React å…ƒç´ æœ‰ä¸€ä¸ª $$typeof å±æ€§ï¼Ÿ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆ-react-å…ƒç´ æœ‰ä¸€ä¸ª-typeof-å±æ€§" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆ React å…ƒç´ æœ‰ä¸€ä¸ª $$typeof å±æ€§ï¼Ÿ&quot;">â€‹</a></h2><p>ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢ XSS æ”»å‡»ã€‚å› ä¸º Synbol æ— æ³•è¢«åºåˆ—åŒ–ï¼Œæ‰€ä»¥ React å¯ä»¥é€šè¿‡æœ‰æ²¡æœ‰ $$typeof å±æ€§æ¥æ–­å‡ºå½“å‰çš„ element å¯¹è±¡æ˜¯ä»æ•°æ®åº“æ¥çš„è¿˜æ˜¯è‡ªå·±ç”Ÿæˆçš„ã€‚</p><p>å¦‚æœæ²¡æœ‰ $$typeof è¿™ä¸ªå±æ€§ï¼Œreact ä¼šæ‹’ç»å¤„ç†è¯¥å…ƒç´ ã€‚</p><h2 id="react-å¦‚ä½•åŒºåˆ†-class-ç»„ä»¶-å’Œ-function-ç»„ä»¶" tabindex="-1">React å¦‚ä½•åŒºåˆ† Class ç»„ä»¶ å’Œ Function ç»„ä»¶ï¼Ÿ <a class="header-anchor" href="#react-å¦‚ä½•åŒºåˆ†-class-ç»„ä»¶-å’Œ-function-ç»„ä»¶" aria-label="Permalink to &quot;React å¦‚ä½•åŒºåˆ† Class ç»„ä»¶ å’Œ Function ç»„ä»¶ï¼Ÿ&quot;">â€‹</a></h2><p>ä¸€èˆ¬çš„æ–¹å¼æ˜¯å€ŸåŠ© typeof å’Œ Function.prototype.toString æ¥åˆ¤æ–­å½“å‰æ˜¯ä¸æ˜¯ classã€‚ä½†æ˜¯è¿™ä¸ªæ–¹å¼æœ‰å®ƒçš„å±€é™æ€§ï¼Œå› ä¸ºå¦‚æœç”¨äº† babel ç­‰è½¬æ¢å·¥å…·ï¼Œå°† class å†™æ³•å…¨éƒ¨è½¬ä¸º function å†™æ³•ï¼Œä¸Šé¢çš„åˆ¤æ–­å°±ä¼šå¤±æ•ˆã€‚</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">isClass</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">func</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">typeof</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">func</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">function</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#C3E88D;">class\s</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">Function</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">toString</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">func</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>React åŒºåˆ† Class ç»„ä»¶ å’Œ Function ç»„ä»¶çš„æ–¹å¼å¾ˆå·§å¦™ï¼Œç”±äºæ‰€æœ‰çš„ç±»ç»„ä»¶éƒ½è¦ç»§æ‰¿ React.Componentï¼Œæ‰€ä»¥åªè¦åˆ¤æ–­åŸå‹é“¾ä¸Šæ˜¯å¦æœ‰ React.Component å°±å¯ä»¥äº†ï¼š</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">AComponent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype </span><span style="color:#89DDFF;">instanceof</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">React</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Component</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="html-å’Œ-react-äº‹ä»¶å¤„ç†æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1">HTML å’Œ React äº‹ä»¶å¤„ç†æœ‰ä»€ä¹ˆåŒºåˆ«? <a class="header-anchor" href="#html-å’Œ-react-äº‹ä»¶å¤„ç†æœ‰ä»€ä¹ˆåŒºåˆ«" aria-label="Permalink to &quot;HTML å’Œ React äº‹ä»¶å¤„ç†æœ‰ä»€ä¹ˆåŒºåˆ«?&quot;">â€‹</a></h2><ul><li>åœ¨ HTML ä¸­äº‹ä»¶åå¿…é¡»å°å†™ï¼Œè€Œåœ¨ React ä¸­éœ€è¦éµå¾ªé©¼å³°å†™æ³•</li><li>åœ¨ HTML ä¸­å¯ä»¥è¿”å› false ä»¥é˜»æ­¢é»˜è®¤çš„è¡Œä¸ºï¼Œè€Œåœ¨ React ä¸­å¿…é¡»åœ°æ˜ç¡®åœ°è°ƒç”¨ preventDefault()</li></ul><p>åˆæˆäº‹ä»¶æ˜¯ react æ¨¡æ‹ŸåŸç”Ÿ DOM äº‹ä»¶æ‰€æœ‰èƒ½åŠ›çš„ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œå…¶ ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>å…¼å®¹æ‰€æœ‰æµè§ˆå™¨ï¼Œæ›´å¥½çš„è·¨å¹³å°ï¼› å°†äº‹ä»¶ç»Ÿä¸€å­˜æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ï¼Œé¿å…é¢‘ç¹çš„æ–°å¢ä¸åˆ é™¤ï¼ˆåƒåœ¾å›æ”¶ï¼‰ã€‚</li><li>æ–¹ä¾¿ react ç»Ÿä¸€ç®¡ç†å’Œäº‹åŠ¡æœºåˆ¶ã€‚</li><li>äº‹ä»¶çš„æ‰§è¡Œé¡ºåºä¸ºåŸç”Ÿäº‹ä»¶å…ˆæ‰§è¡Œï¼Œåˆæˆäº‹ä»¶åæ‰§è¡Œï¼Œåˆæˆäº‹ä»¶ä¼šå†’ æ³¡ç»‘å®šåˆ° document ä¸Šï¼Œæ‰€ä»¥å°½é‡é¿å…åŸç”Ÿäº‹ä»¶ä¸åˆæˆäº‹ä»¶æ··ç”¨ï¼Œå¦‚æœåŸç”Ÿäº‹ä»¶é˜»æ­¢å†’æ³¡ï¼Œå¯èƒ½ä¼šå¯¼è‡´åˆæˆäº‹ä»¶ä¸æ‰§è¡Œï¼Œå› ä¸ºéœ€è¦å†’æ³¡åˆ° document ä¸Šåˆæˆäº‹ä»¶æ‰ä¼šæ‰§è¡Œã€‚</li></ul><h2 id="react-äº‹ä»¶æœºåˆ¶" tabindex="-1">React äº‹ä»¶æœºåˆ¶ <a class="header-anchor" href="#react-äº‹ä»¶æœºåˆ¶" aria-label="Permalink to &quot;React äº‹ä»¶æœºåˆ¶&quot;">â€‹</a></h2><p><code>React</code> å¹¶ä¸æ˜¯å°† <code>click</code> äº‹ä»¶ç»‘å®šåˆ°äº† <code>div</code> çš„çœŸå® <code>DOM</code> ä¸Šï¼Œè€Œæ˜¯åœ¨ <code>document</code> å¤„ç›‘å¬äº†æ‰€æœ‰çš„äº‹ä»¶ï¼Œå½“äº‹ä»¶å‘ç”Ÿå¹¶ä¸”å†’æ³¡åˆ° <code>document</code> å¤„çš„æ—¶å€™ï¼Œ<code>React</code> å°†äº‹ä»¶å†…å®¹å°è£…å¹¶äº¤ç”±çœŸæ­£çš„å¤„ç†å‡½æ•°è¿è¡Œã€‚è¿™æ ·çš„æ–¹å¼ä¸ä»…ä»…å‡å°‘äº†å†…å­˜çš„æ¶ˆè€—ï¼Œè¿˜èƒ½åœ¨ç»„ä»¶æŒ‚åœ¨é”€æ¯æ—¶ç»Ÿä¸€è®¢é˜…å’Œç§»é™¤äº‹ä»¶ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå†’æ³¡åˆ° <code>document</code> ä¸Šçš„äº‹ä»¶ä¹Ÿä¸æ˜¯åŸç”Ÿçš„æµè§ˆå™¨äº‹ä»¶ï¼Œè€Œæ˜¯ç”± <code>react</code> è‡ªå·±å®ç°çš„åˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰ã€‚å› æ­¤å¦‚æœä¸æƒ³è¦æ˜¯äº‹ä»¶å†’æ³¡çš„è¯åº”è¯¥è°ƒç”¨ <code>event.preventDefault()</code>æ–¹æ³•ï¼Œè€Œä¸æ˜¯è°ƒç”¨ <code>event.stopProppagation()</code>æ–¹æ³•ã€‚</p><p><img src="/blog/interview/browser/reactEvent.png" alt="reactEvent"></p><p>JSX ä¸Šå†™çš„äº‹ä»¶å¹¶æ²¡æœ‰ç»‘å®šåœ¨å¯¹åº”çš„çœŸå® <code>DOM</code> ä¸Šï¼Œè€Œæ˜¯é€šè¿‡äº‹ä»¶ä»£ç†çš„æ–¹å¼ï¼Œå°†æ‰€æœ‰çš„äº‹ä»¶éƒ½ç»Ÿä¸€ç»‘å®šåœ¨äº† <code>document</code> ä¸Šã€‚è¿™æ ·çš„æ–¹å¼ä¸ä»…å‡å°‘äº†å†…å­˜æ¶ˆè€—ï¼Œè¿˜èƒ½åœ¨ç»„ä»¶æŒ‚è½½é”€æ¯æ—¶ç»Ÿä¸€è®¢é˜…å’Œç§»é™¤äº‹ä»¶ã€‚</p><p>å¦å¤–å†’æ³¡åˆ° <code>document</code> ä¸Šçš„äº‹ä»¶ä¹Ÿä¸æ˜¯åŸç”Ÿæµè§ˆå™¨äº‹ä»¶ï¼Œè€Œæ˜¯ <code>React</code> è‡ªå·±å®ç°çš„åˆæˆäº‹ä»¶ï¼ˆSyntheticEventï¼‰ã€‚å› æ­¤æˆ‘ä»¬å¦‚æœä¸æƒ³è¦äº‹ä»¶å†’æ³¡çš„è¯ï¼Œè°ƒç”¨ <code>event.stopPropagation</code> æ˜¯æ— æ•ˆçš„ï¼Œè€Œåº”è¯¥è°ƒç”¨ <code>event.preventDefault</code>ã€‚</p><p>å®ç°åˆæˆäº‹ä»¶çš„ç›®çš„å¦‚ä¸‹ï¼š</p><ul><li>åˆæˆäº‹ä»¶é¦–å…ˆæŠ¹å¹³äº†æµè§ˆå™¨ä¹‹é—´çš„å…¼å®¹é—®é¢˜ï¼Œå¦å¤–è¿™æ˜¯ä¸€ä¸ªè·¨æµè§ˆå™¨åŸç”Ÿäº‹ä»¶åŒ…è£…å™¨ï¼Œèµ‹äºˆäº†è·¨æµè§ˆå™¨å¼€å‘çš„èƒ½åŠ›ï¼›</li><li>å¯¹äºåŸç”Ÿæµè§ˆå™¨äº‹ä»¶æ¥è¯´ï¼Œæµè§ˆå™¨ä¼šç»™ç›‘å¬å™¨åˆ›å»ºä¸€ä¸ªäº‹ä»¶å¯¹è±¡ã€‚å¦‚æœä½ æœ‰å¾ˆå¤šçš„äº‹ä»¶ç›‘å¬ï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ†é…å¾ˆå¤šçš„äº‹ä»¶å¯¹è±¡ï¼Œé€ æˆé«˜é¢çš„å†…å­˜åˆ†é…é—®é¢˜ã€‚ä½†æ˜¯å¯¹äºåˆæˆäº‹ä»¶æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªäº‹ä»¶æ± ä¸“é—¨æ¥ç®¡ç†å®ƒä»¬çš„åˆ›å»ºå’Œé”€æ¯ï¼Œå½“äº‹ä»¶éœ€è¦è¢«ä½¿ç”¨æ—¶ï¼Œå°±ä¼šä»æ± å­ä¸­å¤ç”¨å¯¹è±¡ï¼Œäº‹ä»¶å›è°ƒç»“æŸåï¼Œå°±ä¼šé”€æ¯äº‹ä»¶å¯¹è±¡ä¸Šçš„å±æ€§ï¼Œä»è€Œä¾¿äºä¸‹æ¬¡å¤ç”¨äº‹ä»¶å¯¹è±¡ã€‚</li></ul><h2 id="react-ç»„ä»¶ä¸­æ€ä¹ˆåšäº‹ä»¶ä»£ç†-å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆ" tabindex="-1">React ç»„ä»¶ä¸­æ€ä¹ˆåšäº‹ä»¶ä»£ç†ï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#react-ç»„ä»¶ä¸­æ€ä¹ˆåšäº‹ä»¶ä»£ç†-å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;React ç»„ä»¶ä¸­æ€ä¹ˆåšäº‹ä»¶ä»£ç†ï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p>React åŸºäº Virtual DOM å®ç°äº†ä¸€ä¸ª SyntheticEvent å±‚ï¼ˆåˆæˆäº‹ä»¶ å±‚ï¼‰ï¼Œå®šä¹‰çš„äº‹ä»¶å¤„ç†å™¨ä¼šæ¥æ”¶åˆ°ä¸€ä¸ªåˆæˆäº‹ä»¶å¯¹è±¡çš„å®ä¾‹ï¼Œå®ƒç¬¦åˆ W3C æ ‡å‡†ï¼Œä¸”ä¸åŸç”Ÿçš„æµè§ˆå™¨äº‹ä»¶æ‹¥æœ‰åŒæ ·çš„æ¥å£ï¼Œæ”¯æŒå†’æ³¡æœºåˆ¶ï¼Œ æ‰€æœ‰çš„äº‹ä»¶éƒ½è‡ªåŠ¨ç»‘å®šåœ¨æœ€å¤–å±‚ä¸Šã€‚</p><p>åœ¨ React åº•å±‚ï¼Œä¸»è¦å¯¹åˆæˆäº‹ä»¶åšäº†ä¸¤ä»¶äº‹ï¼š</p><p>äº‹ä»¶å§”æ´¾ï¼šReact ä¼šæŠŠæ‰€æœ‰çš„äº‹ä»¶ç»‘å®šåˆ°ç»“æ„çš„æœ€å¤–å±‚ï¼Œä½¿ç”¨ç»Ÿä¸€çš„ äº‹ä»¶ç›‘å¬å™¨ï¼Œè¿™ä¸ªäº‹ä»¶ç›‘å¬å™¨ä¸Šç»´æŒäº†ä¸€ä¸ªæ˜ å°„æ¥ä¿å­˜æ‰€æœ‰ç»„ä»¶å†…éƒ¨ äº‹ä»¶ç›‘å¬å’Œå¤„ç†å‡½æ•°ã€‚</p><p>è‡ªåŠ¨ç»‘å®šï¼šReact ç»„ä»¶ä¸­ï¼Œæ¯ä¸ªæ–¹æ³•çš„ä¸Šä¸‹æ–‡éƒ½ä¼šæŒ‡å‘è¯¥ç»„ä»¶çš„å®ä¾‹ï¼Œ å³è‡ªåŠ¨ç»‘å®š this ä¸ºå½“å‰ç»„ä»¶ã€‚</p><h2 id="react-é«˜é˜¶ç»„ä»¶ã€render-propsã€hooks-æœ‰ä»€ä¹ˆåŒºåˆ«-ä¸ºä»€ä¹ˆè¦ä¸æ–­è¿­ä»£" tabindex="-1">React é«˜é˜¶ç»„ä»¶ã€Render propsã€hooks æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä¸ºä»€ä¹ˆè¦ä¸æ–­è¿­ä»£ <a class="header-anchor" href="#react-é«˜é˜¶ç»„ä»¶ã€render-propsã€hooks-æœ‰ä»€ä¹ˆåŒºåˆ«-ä¸ºä»€ä¹ˆè¦ä¸æ–­è¿­ä»£" aria-label="Permalink to &quot;React é«˜é˜¶ç»„ä»¶ã€Render propsã€hooks æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä¸ºä»€ä¹ˆè¦ä¸æ–­è¿­ä»£&quot;">â€‹</a></h2><p>è¿™ä¸‰è€…æ˜¯ç›®å‰ react è§£å†³ä»£ç å¤ç”¨çš„ä¸»è¦æ–¹å¼ï¼š</p><ul><li>é«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰æ˜¯ React ä¸­ç”¨äºå¤ç”¨ç»„ä»¶é€»è¾‘çš„ä¸€ç§é«˜çº§æŠ€å·§ã€‚HOC è‡ªèº«ä¸æ˜¯ React API çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäº React çš„ç»„åˆç‰¹æ€§è€Œå½¢æˆçš„è®¾è®¡æ¨¡å¼ã€‚å…·ä½“è€Œè¨€ï¼Œé«˜é˜¶ç»„ä»¶æ˜¯å‚æ•°ä¸ºç»„ä»¶ï¼Œè¿”å›å€¼ä¸ºæ–°ç»„ä»¶çš„å‡½æ•°ã€‚</li><li><code>render props</code> æ˜¯æŒ‡ä¸€ç§åœ¨ React ç»„ä»¶ä¹‹é—´ä½¿ç”¨ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„ prop å…±äº«ä»£ç çš„ç®€å•æŠ€æœ¯ï¼Œæ›´å…·ä½“çš„è¯´ï¼Œ<code>render prop</code> æ˜¯ä¸€ä¸ªç”¨äºå‘ŠçŸ¥ç»„ä»¶éœ€è¦æ¸²æŸ“ä»€ä¹ˆå†…å®¹çš„å‡½æ•° propã€‚</li><li>é€šå¸¸ï¼Œ<code>render props</code> å’Œé«˜é˜¶ç»„ä»¶åªæ¸²æŸ“ä¸€ä¸ªå­èŠ‚ç‚¹ã€‚è®© Hook æ¥æœåŠ¡è¿™ä¸ªä½¿ç”¨åœºæ™¯æ›´åŠ ç®€å•ã€‚è¿™ä¸¤ç§æ¨¡å¼ä»æœ‰ç”¨æ­¦ä¹‹åœ°ï¼Œï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªè™šæ‹Ÿæ»šåŠ¨æ¡ç»„ä»¶æˆ–è®¸ä¼šæœ‰ä¸€ä¸ª <code>renderltem</code> å±æ€§ï¼Œæˆ–æ˜¯ä¸€ä¸ªå¯è§çš„å®¹å™¨ç»„ä»¶æˆ–è®¸ä¼šæœ‰å®ƒè‡ªå·±çš„ DOM ç»“æ„ï¼‰ã€‚ä½†åœ¨å¤§éƒ¨åˆ†åœºæ™¯ä¸‹ï¼ŒHook è¶³å¤Ÿäº†ï¼Œå¹¶ä¸”èƒ½å¤Ÿå¸®åŠ©å‡å°‘åµŒå¥—ã€‚</li></ul><h2 id="react-component-å’Œ-react-purecomponent-çš„åŒºåˆ«" tabindex="-1">React.Component å’Œ React.PureComponent çš„åŒºåˆ« <a class="header-anchor" href="#react-component-å’Œ-react-purecomponent-çš„åŒºåˆ«" aria-label="Permalink to &quot;React.Component å’Œ React.PureComponent çš„åŒºåˆ«&quot;">â€‹</a></h2><p>PureComponent è¡¨ç¤ºä¸€ä¸ªçº¯ç»„ä»¶ï¼Œå¯ä»¥ç”¨æ¥ä¼˜åŒ– React ç¨‹åºï¼Œå‡å°‘ render å‡½æ•°æ‰§è¡Œçš„æ¬¡æ•°ï¼Œä»è€Œæé«˜ç»„ä»¶çš„æ€§èƒ½ã€‚</p><p>åœ¨ React ä¸­ï¼Œå½“ prop æˆ–è€… state å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯ä»¥é€šè¿‡åœ¨ shouldComponentUpdate ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­æ‰§è¡Œ return false æ¥é˜»æ­¢é¡µé¢çš„æ›´æ–°ï¼Œä»è€Œå‡å°‘ä¸å¿…è¦çš„ render æ‰§è¡Œã€‚React.PureComponent ä¼šè‡ªåŠ¨æ‰§è¡Œ shouldComponentUpdateã€‚</p><p>ä¸è¿‡ï¼ŒpureComponent ä¸­çš„ shouldComponentUpdate() è¿›è¡Œçš„æ˜¯æµ…æ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæ˜¯å¼•ç”¨æ•°æ®ç±»å‹çš„æ•°æ®ï¼Œåªä¼šæ¯”è¾ƒä¸æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œè€Œä¸ä¼šæ¯”è¾ƒè¿™ä¸ªåœ°å€é‡Œé¢çš„æ•°æ®æ˜¯å¦ä¸€è‡´ã€‚</p><h2 id="redux-æ˜¯ä»€ä¹ˆ" tabindex="-1">redux æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#redux-æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;redux æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p>Redux æ˜¯ä¸€ä¸ªä¸º JavaScript åº”ç”¨è®¾è®¡çš„ï¼Œå¯é¢„æµ‹çš„çŠ¶æ€å®¹å™¨ã€‚</p><p>å®ƒè§£å†³äº†å¦‚ä¸‹é—®é¢˜ï¼š</p><ul><li>è·¨å±‚çº§ç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’å˜å¾—å¾ˆå®¹æ˜“</li><li>æ‰€æœ‰å¯¹çŠ¶æ€çš„æ”¹å˜éƒ½éœ€è¦ dispatchï¼Œä½¿å¾—æ•´ä¸ªæ•°æ®çš„æ”¹å˜å¯è¿½è¸ªï¼Œæ–¹ä¾¿æ’æŸ¥é—®é¢˜ã€‚</li></ul><p>ä½†æ˜¯å®ƒä¹Ÿæœ‰ç¼ºç‚¹ï¼š</p><ul><li>æ¦‚å¿µåå¤šï¼Œç†è§£èµ·æ¥ä¸å®¹æ˜“</li><li>æ ·æ¿ä»£ç å¤ªå¤š</li></ul><h2 id="ä¸ºä»€ä¹ˆä½¿ç”¨-jsx-çš„ç»„ä»¶ä¸­æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨-react-å´éœ€è¦å¼•å…¥-react" tabindex="-1">ä¸ºä»€ä¹ˆä½¿ç”¨ jsx çš„ç»„ä»¶ä¸­æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨ react å´éœ€è¦å¼•å…¥ reactï¼Ÿ <a class="header-anchor" href="#ä¸ºä»€ä¹ˆä½¿ç”¨-jsx-çš„ç»„ä»¶ä¸­æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨-react-å´éœ€è¦å¼•å…¥-react" aria-label="Permalink to &quot;ä¸ºä»€ä¹ˆä½¿ç”¨ jsx çš„ç»„ä»¶ä¸­æ²¡æœ‰çœ‹åˆ°ä½¿ç”¨ react å´éœ€è¦å¼•å…¥ reactï¼Ÿ&quot;">â€‹</a></h2><p>æœ¬è´¨ä¸Šæ¥è¯´ JSX æ˜¯ React.createElement(component, props, ...children)æ–¹æ³•çš„è¯­æ³•ç³–ã€‚åœ¨ React 17 ä¹‹å‰ï¼Œå¦‚æœä½¿ç”¨äº† JSXï¼Œå…¶å®å°±æ˜¯åœ¨ä½¿ç”¨ Reactï¼Œ babel ä¼šæŠŠç»„ä»¶è½¬æ¢ ä¸º CreateElement å½¢å¼ã€‚åœ¨ React 17 ä¹‹åï¼Œå°±ä¸å†éœ€è¦å¼•å…¥ï¼Œå›  ä¸º babel å·²ç»å¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨å¼•å…¥ reactã€‚</p><h2 id="react-router-é‡Œçš„-link-æ ‡ç­¾å’Œ-a-æ ‡ç­¾çš„åŒºåˆ«" tabindex="-1">react-router é‡Œçš„ Link æ ‡ç­¾å’Œ a æ ‡ç­¾çš„åŒºåˆ« <a class="header-anchor" href="#react-router-é‡Œçš„-link-æ ‡ç­¾å’Œ-a-æ ‡ç­¾çš„åŒºåˆ«" aria-label="Permalink to &quot;react-router é‡Œçš„ Link æ ‡ç­¾å’Œ a æ ‡ç­¾çš„åŒºåˆ«&quot;">â€‹</a></h2><p>ä»æœ€ç»ˆæ¸²æŸ“çš„ DOM æ¥çœ‹ï¼Œè¿™ä¸¤è€…éƒ½æ˜¯é“¾æ¥ï¼Œéƒ½æ˜¯ a æ ‡ç­¾ï¼ŒåŒºåˆ«æ˜¯ âˆ¶ <code>&lt;Link&gt;</code>æ˜¯ react-router é‡Œå®ç°è·¯ç”±è·³è½¬çš„é“¾æ¥ï¼Œä¸€èˆ¬é…åˆ <code>&lt;Route&gt;</code> ä½¿ç”¨ï¼Œreact-router æ¥ç®¡äº†å…¶é»˜è®¤çš„é“¾æ¥è·³è½¬è¡Œä¸ºï¼ŒåŒºåˆ«äºä¼ ç»Ÿçš„ é¡µé¢è·³è½¬ï¼Œ<code>&lt;Link&gt;</code> çš„â€œè·³è½¬â€è¡Œä¸ºåªä¼šè§¦å‘ç›¸åŒ¹é…çš„<code>&lt;Route&gt;</code>å¯¹åº”çš„ é¡µé¢å†…å®¹æ›´æ–°ï¼Œè€Œä¸ä¼šåˆ·æ–°æ•´ä¸ªé¡µé¢ã€‚</p></div></div></main><footer class="VPDocFooter" data-v-da8336e0 data-v-086fe104><!--[--><!--]--><div class="edit-info" data-v-086fe104><div class="edit-link" data-v-086fe104><a class="VPLink link edit-link-button" href="https://github.com/DoubleXm/blog/blob/main/docs/docs/interview/react.md" target="_blank" rel="noreferrer" data-v-086fe104 data-v-255bd59a><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-086fe104><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µé¢<!--]--><!----></a></div><div class="last-updated" data-v-086fe104><p class="VPLastUpdated" data-v-086fe104 data-v-6b4ea5a2>æœ€è¿‘æ›´æ–°æ—¶é—´: <time datetime="2023-06-19T15:52:43.000Z" data-v-6b4ea5a2></time></p></div></div><div class="prev-next" data-v-086fe104><div class="pager" data-v-086fe104><a class="pager-link prev" href="/blog/docs/interview/vue2" data-v-086fe104><span class="desc" data-v-086fe104>ä¸Šä¸€ç¯‡</span><span class="title" data-v-086fe104>Vue2</span></a></div><div class="has-prev pager" data-v-086fe104><a class="pager-link next" href="/blog/docs/interview/webpack" data-v-086fe104><span class="desc" data-v-086fe104>ä¸‹ä¸€ç¯‡</span><span class="title" data-v-086fe104>Webpack</span></a></div></div></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-0dee42d0 data-v-eb9cf32a><div class="container" data-v-eb9cf32a><p class="message" data-v-eb9cf32a>DoubleX çš„å‰ç«¯åšå®¢ï¼Œæ¬¢è¿ <a target="_blank" style="color: var(--vp-c-brand)" href="https://github.com/DoubleXm/blog">star â­</a> è®©æ›´å¤šäººå‘ç°</p><p class="copyright" data-v-eb9cf32a><a target="_blank" href="https://github.com/DoubleXm/blog/blob/main/LICENSE">MIT License DoubleXm </a> | ç‰ˆæƒæ‰€æœ‰ Â© 2023-2023</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"docs_essay_index.md\":\"fcb5ca55\",\"docs_interview_index.md\":\"1f041679\",\"docs_interview_node.md\":\"3a2244f9\",\"docs_interview_internet-questions.md\":\"75683f37\",\"docs_interview_typescript.md\":\"60c6c255\",\"docs_interview_react.md\":\"60ae4e99\",\"docs_interview_javascript.md\":\"e4d4382a\",\"docs_interview_html-css.md\":\"94f20a93\",\"docs_interview_browser-questions.md\":\"09cf7fd8\",\"docs_interview_mobile.md\":\"751c16d3\",\"docs_interview_vite.md\":\"1716bb5e\",\"docs_special-column_vue_00-å¯¼è¯».md\":\"5d950858\",\"docs_interview_webpack.md\":\"44f6b7a1\",\"index.md\":\"9eca29cf\",\"docs_special-column_vue_02-reactiveapiå®ç°.md\":\"7c21cccf\",\"docs_special-column_vue_01-æºç ç¯å¢ƒæ­å»º.md\":\"bfd528aa\",\"docs_special-column_vue_03-ä¾èµ–æ”¶é›†ä¸æ›´æ–°.md\":\"dbae61c8\",\"docs_special-column_vue_04-refapiå®ç°.md\":\"858936c0\",\"docs_special-column_vue_05-computedapi.md\":\"bb68d65b\",\"docs_interview_vue2.md\":\"0777a154\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"DoubleX Blog\",\"description\":\"ä¸€åå‰ç«¯äºŒäº”ä»”çš„çŸ¥è¯†å­˜å‚¨æ ˆ\",\"base\":\"/blog/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"outline\":\"deep\",\"docFooter\":{\"prev\":\"ä¸Šä¸€ç¯‡\",\"next\":\"ä¸‹ä¸€ç¯‡\"},\"lastUpdatedText\":\"æœ€è¿‘æ›´æ–°æ—¶é—´\",\"editLink\":{\"pattern\":\"https://github.com/DoubleXm/blog/blob/main/docs/:path\",\"text\":\"åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µé¢\"},\"footer\":{\"message\":\"DoubleX çš„å‰ç«¯åšå®¢ï¼Œæ¬¢è¿ <a target=\\\"_blank\\\" style=\\\"color: var(--vp-c-brand)\\\" href=\\\"https://github.com/DoubleXm/blog\\\">star â­</a> è®©æ›´å¤šäººå‘ç°\",\"copyright\":\"<a target=\\\"_blank\\\" href=\\\"https://github.com/DoubleXm/blog/blob/main/LICENSE\\\">MIT License DoubleXm </a> | ç‰ˆæƒæ‰€æœ‰ Â© 2023-2023\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/DoubleXm/blog\"},{\"icon\":{\"svg\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n        <!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\n        <svg version=\\\"1.1\\\" id=\\\"Layer_1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" x=\\\"0px\\\" y=\\\"0px\\\" width=\\\"32px\\\" height=\\\"32px\\\" viewBox=\\\"0 0 32 32\\\" enable-background=\\\"new 0 0 32 32\\\" xml:space=\\\"preserve\\\">  <image id=\\\"image0\\\" width=\\\"32\\\" height=\\\"32\\\" x=\\\"0\\\" y=\\\"0\\\"\\n            xlink:href=\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAIGNIUk0AAHomAACAhAAA+gAAAIDo\\n        AAB1MAAA6mAAADqYAAAXcJy6UTwAAAHIUExURQAAAB6A/x+A/x6B/x56/x6A/x6A/x6A/x6A/x6A\\n        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A\\n        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A\\n        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A\\n        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A\\n        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A\\n        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A\\n        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A\\n        /x6A/x6A/x6A/x6A/x6A/x6A/x6A/x6A/////3Hr+NgAAACWdFJOUwAAAAAABl1bBRCG9POEDyWr\\n        /KkkcfkLc+wEAk7Z2CGXYCphmDvIEYh7+K0mr3oIaujOQwFF0OdpDANoB883tnAJ9pSWcrc4Y94Y\\n        /hnyvDDj4l4yvfFa39pSPMdT21jD7nkgpKIfDe/CNh2f+qEKHp4cd8Q6xu11UODh108vuoOFuS4X\\n        9yOskxZs6dHSa0YosP0nEor1ib0wTV4AAAABYktHRJfmbhuvAAAAB3RJTUUH5wYUBxETRYbAuQAA\\n        AF50RVh0UmF3IHByb2ZpbGUgdHlwZSBpcHRjAAppcHRjCiAgICAgIDI4CjM4NDI0OTRkMDQwNDAw\\n        MDAwMDAwMDAwZjFjMDI2ZTAwMDM1MjQ2NDcxYzAyMDAwMDAyMDAwNDAwCmCaPZ4AAAHTSURBVDjL\\n        rVNpV1JRFH1bk55AISFPAVEQQXEgFTWQVDBDUsws5yErc8rU5tGZyjFNsvt7PfcBLizAtVqeD3fd\\n        u+9+5+6z3zmCcMkBioz3OYqrIjJ8nqtUqa9dT5cE0ORpGdPe0KVhAPl6RqHPT0uQCgoZKyyQUhAA\\n        gxECjKYis0neGM6TgOISC8kHrFa6gVhqK05mAGV2plY6YhjgKFcxe1kSA8YKJ8mv1HAMqKqmYpw1\\n        xuQUrpu1pL+u3g24Gxpp23TLhUR6j5dejcPNPp9MvU1UAQYPF9TS2uZHInGg/U4g8Rj8HXeDEDpD\\n        zFlyj/8kLo11dbGYXKDb5mShTqE8TGjPfbk4Sy938kGfXPDDR8TtVwriwCCBQ8NcCEbsjI3y+uAd\\n        Gyc4NCEKyGp5TNvJJx5kA0+fTT3n6acrZgicnYvVPf9igbGFl/P8Rlrk69IUIfrlV3GvIL2eJP6b\\n        4JW4k2/f0fH9B+nMKXg/mgn6JHcTRMVnOnz5es5JrKyS5vBaLnXVuprq2tj8+3dutUfIobxvuu/k\\n        V+TH9j89AdfOLmXe26el9sCVoqfg/rnH5GhscKfsOeDw6Bc9U32cvq2jv09Uf6IZZocGR5GTebQu\\n        GL3/iVNGTHdSXGp/KgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMy0wNi0yMFQwNzoxNzoxOSswMDow\\n        MHsX18oAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjMtMDYtMjBUMDc6MTc6MTkrMDA6MDAKSm92AAAA\\n        KHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTA2LTIwVDA3OjE3OjE5KzAwOjAwXV9OqQAAAABJRU5E\\n        rkJggg==\\\" />\\n        </svg>\"},\"link\":\"https://juejin.cn/user/1169536104532829\"}],\"algolia\":{\"apiKey\":\"b537815b63bd12a83511061a06d783b9\",\"indexName\":\"doublexmio\",\"appId\":\"R4FQPVX6VL\",\"placeholder\":\"è¯·è¾“å…¥å…³é”®è¯\",\"translations\":{\"button\":{\"buttonText\":\"æœç´¢æ–‡æ¡£\"}}},\"nav\":[{\"text\":\"ğŸ“ éšç¬”\",\"link\":\"/docs/essay/index\",\"activeMatch\":\"/docs/essay/\"},{\"text\":\"ğŸ”¥ ä¸“æ \",\"items\":[{\"text\":\"ğŸ˜¤ æ‰‹æ’•æºç \",\"link\":\"/docs/special-column/vue/00-å¯¼è¯»\",\"activeMatch\":\"/docs/special-column/vue/\"},{\"text\":\"ğŸ¤” å‰ç«¯ç®—æ³•\",\"link\":\"/docs/special-column/vue/00-å¯¼è¯»\",\"activeMatch\":\"/docs/special-column/vue/\"},{\"text\":\"ğŸ¤– å‰ç«¯è¿ç»´\",\"link\":\"/docs/special-column/vue/00-å¯¼è¯»\",\"activeMatch\":\"/docs/special-column/vue/\"}]},{\"text\":\"ğŸ‰ é¢è¯•\",\"link\":\"/docs/interview/internet-questions\",\"activeMatch\":\"/docs/interview/\"},{\"text\":\"ğŸ’ ç¼–ç¨‹èµ„æº\",\"items\":[{\"text\":\"ğŸ”§ ç¼–ç¨‹å·¥å…·\",\"link\":\"/docs/special-column/vue/00-å¯¼è¯»\",\"activeMatch\":\"/docs/special-column/vue/\"},{\"text\":\"ğŸ”— èµ„æºå¯¼èˆª\",\"link\":\"/docs/special-column/vue/00-å¯¼è¯»\",\"activeMatch\":\"/docs/special-column/vue/\"}]}],\"sidebar\":{\"/docs/special-column/vue/\":[{\"items\":[{\"text\":\"VueJS\",\"collapsed\":false,\"items\":[{\"text\":\"ğŸ“š å¯¼è¯»\",\"link\":\"/docs/special-column/vue/00-å¯¼è¯»\"},{\"text\":\"æºç ç¯å¢ƒæ­å»º\",\"link\":\"/docs/special-column/vue/01-æºç ç¯å¢ƒæ­å»º\"},{\"text\":\"reactiveApi å®ç°\",\"link\":\"/docs/special-column/vue/02-reactiveApiå®ç°\"},{\"text\":\"ä¾èµ–æ”¶é›†ä¸æ›´æ–° effect çš„å®ç°\",\"link\":\"/docs/special-column/vue/03-ä¾èµ–æ”¶é›†ä¸æ›´æ–°\"},{\"text\":\"refApi å®ç°\",\"link\":\"/docs/special-column/vue/04-refApiå®ç°\"},{\"text\":\"computed å®ç°\",\"link\":\"/docs/special-column/vue/05-computedApi\"}]}]}],\"/docs/interview/\":[{\"text\":\"\",\"collapsed\":false,\"items\":[{\"text\":\"è®¡ç®—æœºç½‘ç»œ\",\"link\":\"/docs/interview/internet-questions\"},{\"text\":\"æµè§ˆå™¨\",\"link\":\"/docs/interview/browser-questions\"},{\"text\":\"HTMLã€CSS\",\"link\":\"/docs/interview/html-css\"},{\"text\":\"Javascript\",\"link\":\"/docs/interview/javascript\"},{\"text\":\"TypeScript\",\"link\":\"/docs/interview/typescript\"},{\"text\":\"ç§»åŠ¨ç«¯\",\"link\":\"/docs/interview/mobile\"},{\"text\":\"Vue2\",\"link\":\"/docs/interview/vue2\"},{\"text\":\"React\",\"link\":\"/docs/interview/react\"},{\"text\":\"Webpack\",\"link\":\"/docs/interview/webpack\"},{\"text\":\"Vite\",\"link\":\"/docs/interview/vite\"},{\"text\":\"Node\",\"link\":\"/docs/interview/node\"}]}],\"/docs/essay\":[{\"text\":\"NuxtJS\",\"collapsed\":false,\"items\":[{\"text\":\"Test å ä½ 0\",\"link\":\"\"},{\"text\":\"Test å ä½ 1\",\"link\":\"\"}]}]}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}")</script>
    
  </body>
</html>